{"mode":"javascript","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"ai_event_forever\" id=\"476+L,b7`_XJF_cC5H%/\" x=\"-788\" y=\"-637\"><statement name=\"ONSTART\"><block type=\"ai_speech_rec_event\" id=\"jAnb+wA,N7HOZbWVzCBH\"><field name=\"language\">vi-VN</field><statement name=\"event_handler\"><block type=\"ai_display_background\" id=\"~fM+_^uM~*J,8FFzFM$k\"><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"$B]]y5jiG?ie4:rl#QRd\"><field name=\"COLOUR\">#ffffff</field></shadow></value><next><block type=\"ai_display_text\" id=\"diU[+ALBU4zV]-A~0+~o\"><value name=\"TEXT\"><shadow type=\"text\" id=\"VRl.X0k1$T5$|+cg?@Ze\"><field name=\"TEXT\">Hello</field></shadow><block type=\"ai_speech_rec_result\" id=\"%0HedKIwt2*E2wauOhn@\"></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"P~rRtZ8Ky%;$XicsKrhr\"><field name=\"NUM\">150</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"PM@juYVy~,{i;dk?iV(W\"><field name=\"NUM\">150</field></shadow></value><next><block type=\"controls_if\" id=\"Kx^Cc~T10f~=Jt.^etay\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"$UC35?1hoB~Q6RW7cBY{\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\"?K~#vk)XcJ(9bO?qor,N\"><value name=\"check_values\"><shadow type=\"text\" id=\"{EJh}2Nt+Gdg5S+{(=n!\"><field name=\"TEXT\">bật,mở</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"d%a;kM)}muBZk-.^D1GG\"><value name=\"check_values\"><shadow type=\"text\" id=\"FEk9SZ0d:##,yr6CR%]N\"><field name=\"TEXT\">đèn</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"*AUdJk%i3te{IY6;Mu_N\"><value name=\"message\"><shadow type=\"text\" id=\"%-BBWtF1IyWj,bAZvxA`\"><field name=\"TEXT\">AI_ON</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"d6TE6P/nFlc!NZ~yUy(f\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"4J+sV.5Lwx|CJ|,*QXxL\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\"gIDG*)+7_3svyBb41`oD\"><value name=\"check_values\"><shadow type=\"text\" id=\"9_C[Fgk2ki5;Ez+KZ0LX\"><field name=\"TEXT\">tắt</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"Bz#Ak11Fc;t(!B)u`l@i\"><value name=\"check_values\"><shadow type=\"text\" id=\"Uv;;6,G5R,U8u#cS?k:d\"><field name=\"TEXT\">đèn</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"RpnJe*xGl`#o^CwUwn7*\"><value name=\"message\"><shadow type=\"text\" id=\"^nnrST:56)~rci}ofFhm\"><field name=\"TEXT\">AI_OFF</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\")a|c2]iomDT)^M5R=TkU\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"h+V_=(AP`0*1NDWY10#+\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\".[?IDmNOH_/#xN3AISZ;\"><value name=\"check_values\"><shadow type=\"text\" id=\"f-rXeL:X6)}#WC$:Rl`D\"><field name=\"TEXT\">tắt</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"*;|1j)n[MdL`[C|imV{.\"><value name=\"check_values\"><shadow type=\"text\" id=\"!#7nM_l!5m%Y*D,?rZBZ\"><field name=\"TEXT\">quạt</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"S@+^v9K057[{`X547gfa\"><value name=\"message\"><shadow type=\"text\" id=\"0Iktft{54bJ/nxYnj(z5\"><field name=\"TEXT\">AI_0</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"f8#N?d_NR^]l$tWxf;D`\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"rMDv9IjC9IjgB5-kNs90\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\"1v4vVUPTYb#[*ecEa8NV\"><value name=\"check_values\"><shadow type=\"text\" id=\"Zss(M[Q:sHr!xPh(E]2:\"><field name=\"TEXT\">bật quạt</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"S65{CK8CMTP7OY{z[KvA\"><value name=\"check_values\"><shadow type=\"text\" id=\"^DAZEak-|n$z*}9u~eVZ\"><field name=\"TEXT\">số 1</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"H)#`KN1Oyp0O-{$}61j?\"><value name=\"message\"><shadow type=\"text\" id=\"pKRLI.i|N^|%pFP+~@$J\"><field name=\"TEXT\">AI_25</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"7qKEm.{/,_@R2S?!_@I(\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"BXSC!UVFi]:s}s~.Q7Q`\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\")kAr-y5c8-o.|J%jL]Au\"><value name=\"check_values\"><shadow type=\"text\" id=\"N=6U3(l14d-}50+wF,QI\"><field name=\"TEXT\">bật quạt</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"=,CZ8fl^l1_nINR^$43H\"><value name=\"check_values\"><shadow type=\"text\" id=\"6`il:XEhe4l3!+`{9zH}\"><field name=\"TEXT\">số 2</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"-2+9]hvrpT37y2D(+Tt3\"><value name=\"message\"><shadow type=\"text\" id=\"t;Ct7(6LW!!`;Z?:uW7H\"><field name=\"TEXT\">AI_50</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"TV-9mILFXG8YyExWIsh,\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"nuK~;pxBO(1hD,jC3k@!\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\"d3/L*3B;t.`jVWQ~Z!kN\"><value name=\"check_values\"><shadow type=\"text\" id=\"@GGDNj:[B-:K-g{5;pN3\"><field name=\"TEXT\">bật quạt</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"R8)/KNQg:,]uHoB;$Z]x\"><value name=\"check_values\"><shadow type=\"text\" id=\"MRI73.:vD~x[E7I1:OjR\"><field name=\"TEXT\">số 3</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"6rxRN6U-n_[s#00G:_nY\"><value name=\"message\"><shadow type=\"text\" id=\"0Ue0w4J#CWn=0fF2pw^C\"><field name=\"TEXT\">AI_75</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"i*|W?ksh`1?::(R!e;j`\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"Idrk*OzR7Gr{B(CmUo`4\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"ai_speech_rec_result_check\" id=\")X5!rxs!2Rh**hFm!m.!\"><value name=\"check_values\"><shadow type=\"text\" id=\"BGJFfN457u0PAZ61vTkB\"><field name=\"TEXT\">bật quạt</field></shadow></value></block></value><value name=\"B\"><block type=\"ai_speech_rec_result_check\" id=\"uh$PN/1.O9j=@Q#}V8Pv\"><value name=\"check_values\"><shadow type=\"text\" id=\"T0isHebJg[8eOmzOk`Ra\"><field name=\"TEXT\">số 4,mạnh nhất</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"ai_device_send_string\" id=\"#3c5^yd;mJL^GmWyard:\"><value name=\"message\"><shadow type=\"text\" id=\"5Q3Fidi0ZnWhmhI18i=!\"><field name=\"TEXT\">AI_100</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></xml>","javascript":"function p5speechRecGotResult() {\n  background('#ffffff');\n  text((p5SpeechRec.resultString.toLowerCase()) , 150, 150);\n  if (new RegExp('bật,mở'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('đèn'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_ON');\n  }\n  if (new RegExp('tắt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('đèn'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_OFF');\n  }\n  if (new RegExp('tắt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('quạt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_0');\n  }\n  if (new RegExp('bật quạt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('số 1'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_25');\n  }\n  if (new RegExp('bật quạt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('số 2'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_50');\n  }\n  if (new RegExp('bật quạt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('số 3'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_75');\n  }\n  if (new RegExp('bật quạt'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase()) && new RegExp('số 4,mạnh nhất'.split(\",\").map(function(item) {return item.trim();}).join(\"|\")).test(p5SpeechRec.resultString.toLowerCase())) {\n    parent.commandUtils.sendTerminalData('AI_100');\n  }\n\n}\n\nfunction p5speechRecOnEnd() {\n  p5SpeechRec.start();\n}\n\nfunction sleep(s) {\n  ms = s * 1000\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n\nlet p5SpeechRec = new p5.SpeechRec(\"vi-VN\", p5speechRecGotResult);\np5SpeechRec.onEnd = p5speechRecOnEnd;\n\nfunction preload() {\n\n}\n\nfunction setup() {\n  createCanvas(window.parent.document.getElementById('js-runner-container').offsetWidth-50, window.parent.document.getElementById('js-runner-container').offsetHeight-50);\n    p5SpeechRec.start(); // start listening\n\n}\n\nfunction draw() {\n\n}\n","name":"AI_Test","extensions":[],"device":"ai"}